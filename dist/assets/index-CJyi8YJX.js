(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function p(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(r){if(r.ep)return;r.ep=!0;const t=p(r);fetch(r.href,t)}})();var T={},V={},Ke;function Lt(){if(Ke)return V;Ke=1;var e=V&&V.__assign||function(){return e=Object.assign||function(l){for(var r,t=1,c=arguments.length;t<c;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},e.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var a={threshold:.1,sampleRate:44100,probabilityThreshold:.1};function p(l){l===void 0&&(l={});var r=e(e({},a),l),t=r.threshold,c=r.sampleRate,s=r.probabilityThreshold;return function(w){var n;for(n=1;n<w.length;n*=2);n/=2;for(var d=n/2,v=new Float32Array(d),S=0,u,h=0;h<d;h++)v[h]=0;for(var h=1;h<d;h++)for(var b=0;b<d;b++){var C=w[b]-w[b+h];v[h]+=C*C}v[0]=1,v[1]=1;for(var q=0,h=1;h<d;h++)q+=v[h],v[h]*=h/q;for(u=2;u<d;u++)if(v[u]<t){for(;u+1<d&&v[u+1]<v[u];)u++;S=1-v[u];break}if(u===d||v[u]>=t||S<s)return null;var i,o,g;if(u<1?o=u:o=u-1,u+1<d?g=u+1:g=u,o===u)v[u]<=v[g]?i=u:i=g;else if(g===u)v[u]<=v[o]?i=u:i=o;else{var _=v[o],f=v[u],m=v[g];i=u+(m-_)/(2*(2*f-m-_))}return c/i}}return V.YIN=p,V}var Z={},Ve;function Et(){if(Ve)return Z;Ve=1;var e=Z&&Z.__assign||function(){return e=Object.assign||function(l){for(var r,t=1,c=arguments.length;t<c;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},e.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:!0});var a={sampleRate:44100,minFrequency:82,maxFrequency:1e3,ratio:5,sensitivity:.1};function p(l){l===void 0&&(l={});var r=e(e({},a),l),t=r.sampleRate,c=r.minFrequency,s=r.maxFrequency,y=r.sensitivity,w=r.ratio,n=[],d=Math.ceil(t/c),v=Math.floor(t/s);return function(u){var h=u.length,b=0,C=1/0,q=-1/0,i,o,g,_,f,m,M,x;for(_=0;_<h;_++)if(v<=_&&_<=d){for(M=0,x=_,b=0,i=[],o=[];M<h-_;b++,x++,M++)i[b]=u[M],o[b]=u[x];var k=i.length;for(g=[],m=0;m<k;m++)g[m]=i[m]-o[m];var R=0;for(m=0;m<k;m++)R+=Math.abs(g[m]);n[_]=R}for(f=v;f<d;f++)n[f]<C&&(C=n[f]),n[f]>q&&(q=n[f]);var N=Math.round(y*(q-C)+C);for(f=v;f<=d&&n[f]>N;f++);var Q=v/2;C=n[f];var K=f;for(_=f-1;_<f+Q&&_<=d;_++)n[_]<C&&(C=n[_],K=_);return Math.round(n[K]*w)<q?t/K:null}}return Z.AMDF=p,Z}var B={},Ze;function kt(){if(Ze)return B;Ze=1;var e=B&&B.__assign||function(){return e=Object.assign||function(l){for(var r,t=1,c=arguments.length;t<c;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},e.apply(this,arguments)};Object.defineProperty(B,"__esModule",{value:!0});var a={sampleRate:44100};function p(l){l===void 0&&(l=a);var r=e(e({},a),l),t=r.sampleRate;return function(s){var y=s.length,w=0,n,d,v,S;for(n=0;n<y;n++)S=s[n],w+=S*S;if(w=Math.sqrt(w/y),w<.01)return-1;var u=0,h=y-1,b=.2;for(n=0;n<y/2;n++)if(Math.abs(s[n])<b){u=n;break}for(n=1;n<y/2;n++)if(Math.abs(s[y-n])<b){h=y-n;break}var C=s.slice(u,h),q=C.length,i=new Array(q).fill(0);for(n=0;n<q;n++)for(d=0;d<q-n;d++)i[n]=i[n]+C[d]*C[d+n];for(v=0;i[v]>i[v+1];)v++;var o=-1,g=-1;for(n=v;n<q;n++)i[n]>o&&(o=i[n],g=n);var _=g,f=i[_-1],m=i[_],M=i[_+1],x=(f+M-2*m)/2,k=(M-f)/2;return x&&(_=_-k/(2*x)),t/_}}return B.ACF2PLUS=p,B}var ee={},Be;function At(){if(Be)return ee;Be=1;var e=ee&&ee.__assign||function(){return e=Object.assign||function(s){for(var y,w=1,n=arguments.length;w<n;w++){y=arguments[w];for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(s[d]=y[d])}return s},e.apply(this,arguments)};Object.defineProperty(ee,"__esModule",{value:!0});var a=6,p=3e3,l=3,r=.75,t={sampleRate:44100};function c(s){s===void 0&&(s={});var y=e(e({},t),s),w=y.sampleRate;return function(d){for(var v=[],S=[],u=d.length,h=null,b=0,C=0,q=0,i=0;i<u;i++){var o=d[i];b=b+o,q=Math.max(q,o),C=Math.min(C,o)}b/=u,C-=b,q-=b;for(var g=q>-1*C?q:-1*C,_=g*r,f=0,m=-1,M=d.length,x,k,R;x=~~(w/(Math.pow(2,f)*p)),!(M<2);){var N=void 0,Q=-1e3,K=-1e6,He=-1e6,we=!1,qe=!1;R=0,k=0;for(var i=2;i<M;i++){var se=d[i]-b,xe=d[i-1]-b;xe<=0&&se>0&&(we=!0),xe>=0&&se<0&&(qe=!0),N=se-xe,Q>-1e3&&(qe&&Q<0&&N>=0&&Math.abs(se)>=_&&i>K+x&&(v[R++]=i,K=i,qe=!1),we&&Q>0&&N<=0&&Math.abs(se)>=_&&i>He+x&&(S[k++]=i,He=i,we=!1)),Q=N}if(R===0&&k===0)break;for(var Je=void 0,ce=[],i=0;i<M;i++)ce[i]=0;for(var i=0;i<R;i++)for(var P=1;P<l;P++)i+P<R&&(Je=Math.abs(v[i]-v[i+P]),ce[Je]+=1);for(var Y=-1,Fe=-1,i=0;i<M;i++){for(var me=0,P=-1*x;P<=x;P++)i+P>=0&&i+P<M&&(me+=ce[i+P]);me===Fe?i===2*Y&&(Y=i):me>Fe&&(Fe=me,Y=i)}for(var pe=0,Qe=0,P=-x;P<=x;P++)if(Y+P>=0&&Y+P<u){var Pe=ce[Y+P];Pe>0&&(Qe+=Pe,pe+=(Y+P)*Pe)}if(pe/=Qe,m>-1&&Math.abs(pe*2-m)<=2*x){h=w/(Math.pow(2,f-1)*m);break}if(m=pe,f++,f>=a||M<2)break;var Le=d.subarray(0);M===ce.length&&(Le=new Float32Array(M/2));for(var i=0;i<M/2;i++)Le[i]=(d[2*i]+d[2*i+1])/2;d=Le,M/=2}return h}}return ee.DynamicWavelet=c,ee}var te={},et;function Ot(){if(et)return te;et=1;var e=te&&te.__assign||function(){return e=Object.assign||function(l){for(var r,t=1,c=arguments.length;t<c;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},e.apply(this,arguments)};Object.defineProperty(te,"__esModule",{value:!0});var a={bufferSize:1024,cutoff:.97,sampleRate:44100};function p(l){l===void 0&&(l={});var r=e(e({},a),l),t=r.bufferSize,c=r.cutoff,s=r.sampleRate,y=.5,w=80,n=new Float32Array(t),d=new Float32Array(t),v,S,u=[],h=[],b=[];function C(o){var g,_;d[0]=o[0]*o[0];for(var f=1;f<o.length;f+=1)d[f]=o[f]*o[f]+d[f-1];for(var m=0;m<o.length;m++){g=0,_=d[o.length-1-m]+d[o.length-1]-d[m];for(var f=0;f<o.length-m;f++)g+=o[f]*o[f+m];n[m]=2*g/_}}function q(o){var g=n[o-1],_=n[o],f=n[o+1],m=o,M=f+g-2*_;if(M===0)v=m,S=_;else{var x=g-f;v=m+x/(2*M),S=_-x*x/(8*M)}}function i(){for(var o=0,g=0;o<(n.length-1)/3&&n[o]>0;)o++;for(;o<n.length-1&&n[o]<=0;)o++;for(o==0&&(o=1);o<n.length-1;)if(n[o]>n[o-1]&&n[o]>=n[o+1]&&(g==0||n[o]>n[g])&&(g=o),o++,o<n.length-1&&n[o]<=0)for(g>0&&(u.push(g),g=0);o<n.length-1&&n[o]<=0;)o++;g>0&&u.push(g)}return function(g){var _;u=[],h=[],b=[],C(g),i();for(var f=-1/0,m=0;m<u.length;m++){var M=u[m];f=Math.max(f,n[M]),n[M]>y&&(q(M),b.push(S),h.push(v),f=Math.max(f,S))}if(h.length){for(var x=c*f,k=0,m=0;m<b.length;m++)if(b[m]>=x){k=m;break}var R=h[k],N=s/R;N>w?_=N:_=-1}else _=-1;return{probability:f,freq:_}}}return te.Macleod=p,te}var ue={},tt;function It(){return tt||(tt=1,function(e){var a=ue&&ue.__assign||function(){return a=Object.assign||function(r){for(var t,c=1,s=arguments.length;c<s;c++){t=arguments[c];for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(r[y]=t[y])}return r},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FREQUENCIES_PARAMS={tempo:120,quantization:4,sampleRate:44100};function p(r,t){var c=r.map(function(S){return S(t)}).filter(function(S){return S!==null}).sort(function(S,u){return S-u});if(c.length===1)return c[0];if(c.length===2){var s=c[0],y=c[1];return s*2>y?Math.sqrt(s*y):s}else{var s=c[0],y=c[1],w=c[c.length-2],n=c[c.length-1],d=s*2>y?c:c.slice(1),v=w*2>n?d:d.slice(0,-1);return Math.pow(v.reduce(function(h,b){return h*b},1),1/v.length)}}function l(r,t,c){c===void 0&&(c={});var s=a(a({},e.DEFAULT_FREQUENCIES_PARAMS),c),y=s.tempo,w=s.quantization,n=s.sampleRate,d=t.length,v=Math.round(n*60/(w*y)),S;Array.isArray(r)?S=p.bind(null,r):S=r;for(var u=[],h=0,b=d-v;h<=b;h+=v){var C=t.slice(h,h+v),q=S(C);u.push(q)}return u}e.frequencies=l}(ue)),ue}var rt;function Rt(){if(rt)return T;rt=1,Object.defineProperty(T,"__esModule",{value:!0});var e=Lt();T.YIN=e.YIN;var a=Et();T.AMDF=a.AMDF;var p=kt();T.ACF2PLUS=p.ACF2PLUS;var l=At();T.DynamicWavelet=l.DynamicWavelet;var r=Ot();T.Macleod=r.Macleod;var t=It();return T.frequencies=t.frequencies,T.default={YIN:e.YIN,AMDF:a.AMDF,ACF2PLUS:p.ACF2PLUS,DynamicWavelet:l.DynamicWavelet,Macleod:r.Macleod,frequencies:t.frequencies},T}var Tt=Rt();const Dt=".abc",$t=".pls";let nt=null;const ot="#000000",Nt="#3D9AFC",Ut=1.5,jt=60,zt="-",Wt=.075,Yt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];let E=0,D=0,he=null,re=0,H=null,z=new AudioContext,Ee=null,j=!1,L,fe=null,lt=null,ae=null,X=null,de=null,G=3,Se,A=[],F=0,ge=null,Ae=!1,Oe=!1,W=0,ie=0,ke=null,Ie=null,ne=null;const st=document.querySelector("#notation"),Xt=document.querySelector("#abc-textarea");document.querySelector("#midi");const O=document.querySelector("#start"),ct=document.querySelector("#reset"),Re=document.querySelector("#devices"),U=document.querySelector("#file"),Te=document.querySelector("#tempo"),ye=document.querySelector("#tune"),De=document.querySelector("#current-note"),ut=document.querySelector("#current-score"),Gt=document.querySelector("#count-down"),Ht=document.querySelector("#current-volume"),ft=document.querySelector("#playlist"),at=document.querySelector("#current-playlist-position");document.querySelector("#score-stats");const $e=document.querySelector("#loaded-filename"),it=document.querySelector("#qpm-display"),ve=document.querySelector("#auto-continue"),_e=document.querySelector("#ignore-duration");window.start_button=O;function je(e,a,p){return e>p?p:e<a?a:e}function dt(){return $("#"+ve.id).is(":checked")}function vt(){return $("#"+_e.id).is(":checked")}function Jt(){isNaN(E)&&(E=0),isNaN(D)&&(D=0),vt()?(Ae||(Ae=!0,W+=1),!Oe&&D==E&&(Oe=!0,ie+=1)):(ie+=D==E,W+=1),We()}function Qt(){return Se&&L&&L[0].lines.length>0}function Kt(){it.textContent="-",H&&(it.textContent=H)}function oe(){if(Qt()){O.disabled=!1;return}O.disabled=!0}function Ne(e,a){if(!(e==null||!e.elements))for(let p of e.elements)for(let l of p)l.setAttribute("fill",a)}function Ce(e){var a=null;if(le(),Te.value)a=parseInt(Te.value);else{var p=e.match(/Q:\s*(\d+)/i);p&&(a=parseInt(p[1]),e=e.replace(/Q:\s*(\d+\n)/i,""))}a=parseInt(a||jt),lt=e,H=a,Kt(),L=ABCJS.renderAbc(st.id,e,{responsive:"resize",scale:Ut,add_classes:!0}),$("#notation").css("opacity",.5),X||(X=new ABCJS.synth.CreateSynth),O.disabled=!0,X.init({audioContext:z,visualObj:L[0],millisecondsPerMeasure:gt(H,L[0])}).then(()=>{X.prime().then(()=>{O.disabled=!1})})}function _t(){O.textContent="Stop"}function Vt(){O.textContent="Start"}function Zt(){_t(),j=!0,G=L[0].getBeatsPerMeasure()+1,mt()}function mt(){G-=1,G>0?(Gt.textContent=L[0].getBeatsPerMeasure()-G+1,$("#count-down").css({"font-size":"15em",opacity:1}).show().animate({opacity:"0"},ht(H),"swing",mt)):($("#count-down").hide(),G==0&&sr())}function Bt(e){$.ajax({url:"playlist/"+e,dataType:"json",success:function(a,p,l){var r=$("#"+ft.id);Ft(),A=a,F=0;for(var t=0;t<a.length;t+=1)r.append('<li class="list-group-item" data-playlist-index="'+t+'">'+a[t]+"</li>");A&&J(),$("#playlist li").click(function(){var c=$(this),s=parseInt(c.data("playlist-index"));fr(s)})},error:function(a,p,l){I("Unable to load playlist file: "+e),oe()}})}function pt(e){e&&($e.textContent="",$.ajax({url:"music/"+e,dataType:"text",success:function(a,p,l){fe=er(a),$e.textContent=e,$("#abc-textarea").val(fe),Ce(fe),$(U.id).removeAttr("disabled"),I("File loaded. Press start to play."),oe()},error:function(a,p,l){I("Unable to load file."),oe()}}))}function er(e){const a=new Set(["T","C","Z","S","N","G","O","H","I","P","W","F","B"]);let p=[],l=[];const r=e.split(`
`).map(t=>t.trim());for(const t of r){if(!t||t.startsWith("%")){console.debug("Ignoring comment:",t);continue}if(t.length>=2&&t[1]===":"&&/^[A-Za-z]$/.test(t[0])){if(a.has(t[0].toUpperCase())){console.debug("Ignoring header:",t);continue}console.debug("Keeping header:",t),p.push(t)}else console.debug("Keeping notes:",t),l.push(t)}return p.join(`
`)+`
`+l.join(`
`)}function tr(){$e.textContent="",data=$("#abc-textarea").val(),fe=data,Ce(data),$(U.id).removeAttr("disabled"),L&&L[0].lines.length>0?(L[0].metaText.title,I("File loaded. Press start to play.")):I("Invalid ABC text. Please try again."),oe()}function ht(e){return 6e4/e}function gt(e,a){return a.getBeatsPerMeasure()*ht(e)}function yt(e){return parseInt(e/12)-1}window.midi_number_to_octave=yt;function rr(e){return Yt[e%12]}function Ue(e){return e?rr(e)+yt(e):zt}window.midi_number_to_string=Ue;function bt(e){var a=12*(Math.log(e/440)/Math.log(2));return Math.round(a)+69}window.noteFromPitch=bt;function nr(){z.resume(),nt=new Tt.YIN({sampleRate:z.sampleRate});var e=z.createMediaStreamSource(Se),a=z.createAnalyser();e.connect(a);const p=new Uint8Array(a.frequencyBinCount);a.getByteTimeDomainData(p);function l(){var r=ne.volume;if(E=0,r>Wt){const c=new Float32Array(a.fftSize);a.getFloatTimeDomainData(c);var t=nt(c);E=parseInt(bt(t)),isNaN(E)&&(E=0)}Me(),ze()}Ie=setInterval(l,10)}function ar(){Ie&&clearInterval(Ie),Ee&&Ee.destroy(),Ee=null,E=0}function ir(){if(!ne){ne=createAudioMeter(z);var e=z.createMediaStreamSource(Se);e.connect(ne)}}function ze(){var e;j&&ne?e=parseInt(Math.round(ne.volume*100)):e="-",Ht.textContent=""+e}function Mt(){console.log("Starting mic..."),j=!0,z.resume().then(()=>{console.log("Playback resumed successfully")}),ir(),nr()}function St(){E=0,j=!1,ar()}function or(){ge=setInterval(Jt,100)}function Ct(){ge&&clearInterval(ge),ke&&clearInterval(ke),ge=null,ke=null}function lr(e){if(de&&Ne(de,ot),e){Ae=!1,Oe=!1,Ne(e,Nt),de=e;var a=e.midiPitches&&e.midiPitches[0];if(!a){D=0,Me();return}D=a.pitch,Me(),e.midiPitches[0].durationInMeasures*gt(H,L[0])}else{Ct();var p=be();I("Scored "+p+"."),le(!1),setTimeout(Ye,100),dt()&&(he.mean_score&&be()>=he.mean_score&&(console.log("Auto-incrementing playlist."),Ge()),(!dr()||he.mean_score&&be()<he.mean_score)&&setTimeout(wt,3e3))}}function wt(){console.log("Auto-starting."),O.click()}window.auto_start=wt;function sr(){console.log("Starting..."),ae=new ABCJS.TimingCallbacks(L[0],{qpm:H,extraMeasuresAtBeginning:0,lineEndAnticipation:0,beatSubdivisions:4,beatCallback:function(e,a,p){},eventCallback:lr,lineEndCallback:function(e){}}),W=0,ie=0,Mt(),_t(),or(),ae.start(),X.start(),I("Playing."),$("#notation").css("opacity",1)}function be(){return parseInt(Math.round(ie/W*100))}function qt(){var e=$("#"+ut.id);e.removeClass("good"),e.removeClass("bad")}function We(){var e=$("#"+ut.id);if(qt(),W){let a=be();e.text(""+ie+"/"+W+" = "+a+"%")}else e.text("-")}function le(e){e==null&&(e=!0),G>=0&&(G=-1,j=!0),j&&($("#notation").css("opacity",.5),St(),D=0,E=0,Ct(),Vt(),ABCJS.midi.stopPlaying(),ae&&ae.stop(),X&&X.stop(),e&&I("Stopped."),de&&Ne(de,ot))}window.stop=le;function Ye(){W=0,re=0,Xe(),le(),ABCJS.midi.restartPlaying(),ae&&ae.reset(),$("#notation svg").css("marginLeft","0px"),J()}window.reset=Ye;function I(e){$("#status").html(e)}function xt(){var e=$("#"+De.id);e.removeClass("good"),e.removeClass("bad")}function Me(){var e=$("#"+De.id);xt(),D&&(D==E?e.addClass("good"):e.addClass("bad")),De.textContent=Ue(D)+"/"+Ue(E)}window.update_current_note_display=Me;function cr(){re-=100,re=Math.max(re,0),Xe()}function ur(){re+=100,Xe()}function Xe(){$("#"+st.id+" svg").css("transform-origin-x",re)}function fr(e){var a=F;F=e,F=je(F,0,A.length-1),a!=F&&J()}function dr(){return!A.length||F==A.length-1}function Ge(){var e=F;F+=1,F=je(F,0,A.length-1),e!=F&&J()}window.increment_playlist=Ge;function vr(){var e=F;F-=1,F=je(F,0,A.length-1),e!=F&&J()}function Ft(){A=[],F=0;var e=$("#"+ft.id);e.empty()}function J(){ie=0,W=0,qt(),xt(),We(),$("li").removeClass("active"),$("li[data-playlist-index="+F+"]").addClass("active");var e=A[F];pt(e),A.length?at.textContent=""+(F+1)+"/"+A.length:at.textContent=""}window.update_playlist=J;ve.addEventListener("click",async e=>{Cookies.set(ve.id,dt()?1:0)});_e.addEventListener("click",async e=>{Cookies.set(_e.id,vt()?1:0)});Re.addEventListener("change",async e=>{e.target.value&&(j&&le(),Se=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:e.target.value}}}),oe())});navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{navigator.mediaDevices.enumerateDevices().then(a=>{const p=document.createDocumentFragment();a&&a.forEach(l=>{if(l.kind==="audioinput"){const r=document.createElement("option");r.textContent=l.label,r.value=l.deviceId,p.appendChild(r)}}),Re.appendChild(p),Re.dispatchEvent(new Event("change"))})}):($("#message-model .modal-body").html("This browser is not supported."),$("#message-model").modal("show"));function Pt(){var e=U.value;I("Loading file "+e+"."),Ft(),J(),e.endsWith(Dt)?($("#abc-textarea-container").hide(),pt(e)):e.endsWith($t)?($("#abc-textarea-container").hide(),Bt(e)):($("#abc-textarea-container").show(),Ce($("#abc-textarea").val())),U.blur(),Cookies.set(U.id,e)}U.addEventListener("change",()=>{Pt()});function _r(){tr()}Xt.addEventListener("change",()=>{_r()});ye.addEventListener("click",()=>{j?(St(),$("#"+ye.id).removeClass("active"),oe()):(O.disabled=!0,Mt(),$("#"+ye.id).addClass("active")),ze()});Te.addEventListener("change",()=>{lt&&Ce(fe)});O.addEventListener("click",e=>{if(e.target.disabled||!(L&&L[0].lines.length>0)){I("Select a file before starting.");return}j?le():Zt(),ze()});ct.addEventListener("click",e=>{if(e.target.disabled||!U.value){I("Select a file before resetting.");return}else Ye();We()});$(document).keypress(function(e){switch(e.keyCode){case 115:O.click();break;case 114:ct.click();break;case 116:ye.click();break;case 110:Ge();break;case 98:vr();break;case 106:cr();break;case 107:ur();break}});$(document).ready(function(){var e;e=parseInt(Cookies.get(ve.id)),isNaN(e)||$("#"+ve.id).prop("checked",e),e=parseInt(Cookies.get(_e.id)),isNaN(e)||$("#"+_e.id).prop("checked",e),e=Cookies.get(U.id),e&&(U.value=e,Pt())});
